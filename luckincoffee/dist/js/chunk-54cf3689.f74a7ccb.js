(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-54cf3689"],{"2f14":function(t,e,i){"use strict";i.d(e,"a",(function(){return a}));class s{queryString(t){let e="";for(let i in t)e+=`${i}=${t[i]}&`;return e.slice(0,-1)}}const a=new s},"7c2a":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"like"},[i("van-nav-bar",{style:{"z-index":2},attrs:{title:"我的收藏","left-text":"返回","left-arrow":"",fixed:!0},on:{"click-left":t.back}}),i("div",{staticClass:"like-bg"}),i("div",{staticClass:"like-box"},[i("div",{staticClass:"product-box clearfix"},t._l(t.likeProducts,(function(e,s){return i("div",{key:s,staticClass:"product-item fl",class:[s%2==0?"p-left":"p-right"]},[i("div",{staticClass:"p-img"},[i("img",{staticClass:"auto-img",attrs:{src:e.smallImg,alt:""},on:{click:function(i){return t.getProductId(e.pid)}}})]),i("div",{staticClass:"pro-name one-text"},[t._v(t._s(e.name))]),i("div",{staticClass:"clearfix"},[i("div",{staticClass:"pro-price fl"},[t._v("￥"+t._s(e.price))]),i("div",{staticClass:"pro-del fr",on:{click:function(i){return t.notLike(e.pid,s)}}},[i("van-icon",{attrs:{name:"delete"}})],1)])])})),0),i("van-empty",{directives:[{name:"show",rawName:"v-show",value:t.likeProducts.length<1,expression:"likeProducts.length < 1"}],attrs:{description:"收藏栏是空的desu"}},[i("van-button",{attrs:{type:"default",color:"#0c43ba",to:"Menu"}},[t._v("去逛逛把")])],1)],1)],1)},a=[],r=i("2f14"),o={data(){return{likeProducts:[]}},created(){this.getLikeProducts()},methods:{back(){this.$router.go(-1)},getLikeProducts(){let t=localStorage.getItem("CSTK");if(!t)return this.$router.push({name:"Login"});this.$toast.loading({message:"加载中",forbidClick:!0,duration:0,loadingType:"spinner"}),this.axios({methods:"get",url:"/findAllLike",params:{appkey:this.appkey,tokenString:t}}).then(t=>{if(this.$toast.clear(),2e3==t.data.code){let e=t.data.result;this.likeProducts=e}console.log(t)}).catch(t=>{console.log("error => ",t)})},getProductId(t){this.$router.push({name:"Detail",query:{pid:t}})},notLike(t,e){let i=localStorage.getItem("CSTK");if(!i)return this.$router.push({name:"Login"});let s=r["a"].queryString({appkey:this.appkey,pid:t,tokenString:i});this.$toast.loading({message:"加载中",forbidClick:!0,duration:0,loadingType:"spinner"}),this.axios({method:"POST",url:"/notlike",data:s}).then(t=>{if(this.$toast.clear(),this.$toast(t.data.msg),700==t.data.code)return this.$router.push({name:"Login"});900==t.data.code&&this.likeProducts.splice(e,1)}).catch(t=>{console.log("error => ",t)})}}},n=o,c=(i("aec0"),i("2877")),l=Object(c["a"])(n,s,a,!1,null,"554e47be",null);e["default"]=l.exports},aec0:function(t,e,i){"use strict";var s=i("cb78"),a=i.n(s);a.a},cb78:function(t,e,i){}}]);
//# sourceMappingURL=chunk-54cf3689.f74a7ccb.js.map