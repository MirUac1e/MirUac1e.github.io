(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-698b8f0c"],{b91f:function(t,s,a){},df42:function(t,s,a){"use strict";var i=a("b91f"),l=a.n(i);l.a},fc9e:function(t,s,a){"use strict";a.r(s);var i=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"singerdetail"},[a("div",[a("van-nav-bar",{attrs:{"left-arrow":"",fixed:""},on:{"click-left":t.back}})],1),a("div",{staticClass:"bg",style:"background-image:url("+t.artist.img1v1Url+")"}),a("div",{staticClass:"content-box"},[a("div",{staticClass:"clearfix singer-info-box"},[a("div",{staticClass:"fl singer-info"},[a("div",{staticClass:"singer-name"},[t._v(t._s(t.artist.name))]),a("div",{staticClass:"singer-fans"},[t._v("单曲数 "+t._s(t.artist.musicSize))])]),a("div",{staticClass:"fr btn-sub"},[a("van-button",{staticStyle:{padding:"0 20px"},attrs:{round:"",color:"#e4393c",disabled:!!t.artist.followed}},[t._v(t._s(t.artist.followed?"已关注":"+ 关注"))])],1)]),a("div",{staticClass:"content-item"},[a("van-tabs",{attrs:{background:"rgba(21,21,21,1)",color:"#e4393c","title-inactive-color":"#fff","title-active-color":"#e4393c"},model:{value:t.active,callback:function(s){t.active=s},expression:"active"}},[a("van-tab",{attrs:{title:"主页"}},[a("div",{staticClass:"hot-box"},[a("div",{staticClass:"hot-box-title "},[t._v("近期热门(10首)")]),t._l(t.hotSongs,(function(s,i){return a("div",{key:i,staticClass:"clearfix songlist-item"},[a("div",{staticClass:"fl songlist-count",style:i>=99?"font-size:16px":""},[t._v(" "+t._s(i+1)+" ")]),a("div",{staticClass:"fl songlist-item-detail",staticStyle:{height:"40px"},on:{click:function(a){return t.togglePlayPage({v:!0,songListData:t.hotSongs,id:s.id,songUrlData:t.songUrlData,index:i})}}},[a("div",{staticClass:"song-name"},[t._v(" "+t._s(s.name)+t._s(s.isAlia?"("+s.alia[0]+")":"")+" ")]),a("div",{staticClass:"song-singer"},[t._v(" "+t._s(s.art)+" - "+t._s(s.al.name)+" ")])]),a("div",{staticClass:"fr icon-box"},[a("div",{staticClass:"tv-icon"},[0!=s.mv?a("van-icon",{attrs:{name:"video-o"}}):t._e()],1),a("div",{staticClass:"function-icon"},[a("van-icon",{attrs:{name:"bars"}})],1)])])}))],2),a("div",{staticClass:"singer-introduction"},[a("div",{staticClass:"singer-introduction-title"},[t._v(" 歌手简介 ")]),a("div",{staticClass:"singer-introduction-content"},[t._v(" "+t._s(t.artist.briefDesc)+" ")])]),a("div",{staticClass:"similar-artists"},[a("div",{staticClass:"similar-artists-title"},[t._v(" 相似艺人 ")]),a("div",{staticClass:"similar-artists-box clearfix"},t._l(t.similarArtistsData,(function(s,i){return a("div",{key:i,staticClass:"similar-artists-item fl"},[a("div",{staticClass:"s-a-img"},[a("div",{style:"background-image:url("+s.img1v1Url+")"})]),a("div",{staticClass:"s-a-name"},[t._v(t._s(s.name))]),a("div",{staticClass:"s-a-fans"},[t._v("单曲数"+t._s(s.musicSize))]),a("div",{staticClass:"s-a-sub"},[a("van-button",{staticStyle:{padding:"0 20px"},attrs:{round:"",size:"small",color:"#e4393c",disabled:!!s.followed}},[t._v(t._s(s.followed?"已关注":"+ 关注"))])],1)])})),0)])]),a("van-tab",{attrs:{title:"歌曲"}},[a("div",[t._v("暂时拿50首")]),a("div",{staticClass:"all-song-box"},t._l(t.allSongs,(function(s,i){return a("div",{key:i,staticClass:"clearfix songlist-item"},[a("div",{staticClass:"fl songlist-count",style:i>=99?"font-size:16px":""},[t._v(" "+t._s(i+1)+" ")]),a("div",{staticClass:"fl songlist-item-detail",staticStyle:{height:"40px"},on:{click:function(a){return t.togglePlayPage({v:!0,songListData:t.hotSongs,id:s.id,songUrlData:t.songUrlData,index:i})}}},[a("div",{staticClass:"song-name"},[t._v(" "+t._s(s.name)+t._s(s.isAlia?"("+s.alia[0]+")":"")+" ")]),a("div",{staticClass:"song-singer"},[t._v(" "+t._s(s.art)+" - "+t._s(s.al.name)+" ")])]),a("div",{staticClass:"fr icon-box"},[a("div",{staticClass:"tv-icon"},[0!=s.mv?a("van-icon",{attrs:{name:"video-o"}}):t._e()],1),a("div",{staticClass:"function-icon"},[a("van-icon",{attrs:{name:"bars"}})],1)])])})),0)]),a("van-tab",{attrs:{title:"专辑("+t.allPlayList.length+")"}},[a("div",[t._v("留着排序")]),t._l(t.allPlayList,(function(s,i){return a("div",{key:i,staticClass:"album-box"},[a("div",{staticClass:"album-item goFlex"},[a("div",{staticClass:"album-img",style:"background-image:url("+s.picUrl+")"}),a("div",{staticClass:"album-info"},[a("div",{staticClass:"album-name"},[t._v(t._s(s.name))]),a("div",{staticClass:"goFlex"},[a("div",{staticClass:"album-date"},[t._v(t._s(s.pt))]),a("div",{staticClass:"album-count"},[t._v(t._s(s.size)+"首")])])])])])}))],2),a("van-tab",{attrs:{title:"视频"}},[a("div",[t._v("有拿mv和视频两种")]),a("div",{staticClass:"video-box"},t._l(t.allVideoData,(function(s,i){return a("div",{key:i,staticClass:"video-item goFlex"},[a("div",{staticClass:"video-img",style:"background-image:url("+s.imgurl+")"},[a("div",{staticClass:"video-play-count goFlex"},[a("van-icon",{attrs:{name:"play-circle-o"}}),t._v(t._s(s.playcount)+" ")],1)]),a("div",{staticClass:"video-info"},[a("div",{staticClass:"video-name"},[t._v(t._s(s.name))]),a("div",{staticClass:"video-date"},[t._v(t._s(s.publishTime))])])])})),0)])],1)],1)])])},l=[],e=a("2f14"),o={data(){return{active:3,artist:{},allVideoData:[],allPlayList:[],allSongs:[],hotSongs:[],similarArtistsData:[],songUrlData:[],allSongUrlData:[]}},created(){this.getInfoById(this.$route.query.id),this.getAllSongById(this.$route.query.id),this.getPlayListById(this.$route.query.id),this.getSimilarArtists(this.$route.query.id),this.getAllVideoById(this.$route.query.id)},methods:{back(){this.togglePlayPage({v:!0}),setTimeout(()=>{this.$router.go(-1)},1e3)},clickPlayList(t){},getAllSongUrl(t,s){t=t.join(","),this.$toast.loading({type:"loading",message:"请稍等",forbidClick:!0,duration:0,loadingType:"spinner"}),this.axios({methods:"get",url:"/song/url",params:{id:t}}).then(t=>{this.$toast.clear();let a=[];this.hotSongs.map(s=>{t.data.data.map(t=>{t.id!=s.id||a.push(t)})}),this[s]=a}).catch(t=>{this.$toast.clear(),console.log("err ==> ",t)})},getSimilarArtists(t){let s=e["a"].getCookie("wyyc");this.$toast.loading({type:"loading",message:"发送中",forbidClick:!0,duration:0,loadingType:"spinner"}),this.axios({methods:"get",url:"/simi/artist",params:{id:t,cookie:s}}).then(t=>{this.$toast.clear(),this.similarArtistsData=[];for(let s=0;s<2;s++)this.similarArtistsData.push(t.data.artists[s])}).catch(t=>{this.$toast.clear(),console.log("err ==> ",t)})},getAllVideoById(t){this.$toast.loading({type:"loading",message:"发送中",forbidClick:!0,duration:0,loadingType:"spinner"}),this.axios({methods:"get",url:"/artist/mv",params:{id:t}}).then(t=>{this.$toast.clear(),this.allVideoData=t.data.mvs}).catch(t=>{this.$toast.clear(),console.log("err ==> ",t)})},getPlayListById(t){this.$toast.loading({type:"loading",message:"发送中",forbidClick:!0,duration:0,loadingType:"spinner"}),this.axios({methods:"get",url:"/artist/album",params:{id:t}}).then(t=>{this.$toast.clear(),t.data.hotAlbums.map(t=>{t.pt=e["a"].getLocalTime(t.publishTime)}),this.allPlayList=t.data.hotAlbums}).catch(t=>{this.$toast.clear(),console.log("err ==> ",t)})},getAllSongById(t){this.$toast.loading({type:"loading",message:"发送中",forbidClick:!0,duration:0,loadingType:"spinner"}),this.axios({methods:"get",url:"/artist/songs",params:{id:t,order:"hot",limit:50}}).then(t=>{this.$toast.clear();let s=[];t.data.songs.map(t=>{0==t.alia.length?t.isAlia=!1:t.isAlia=!0,t.art="",t.artsss=[],t.ar.length>1?t.ar.map(s=>{t.art+=s.name+"/",t.artsss.push(s)}):(t.artsss.push(t.ar[0]),t.art=t.ar[0].name),t.art=t.art.slice(0,-1),t.imgUrl=t.al.picUrl,s.push(t.id)}),this.allSongs=t.data.songs,this.getAllSongUrl(s,"allSongUrlData")}).catch(t=>{this.$toast.clear(),console.log("err ==> ",t)})},getInfoById(t){this.$toast.loading({type:"loading",message:"发送中",forbidClick:!0,duration:0,loadingType:"spinner"}),this.axios({methods:"get",url:"/artists",params:{id:t}}).then(t=>{this.$toast.clear(),this.artist=t.data.artist;let s=[];t.data.hotSongs.length;for(let i=0;i<10;i++)s.push(t.data.hotSongs[i]);let a=[];s.map(t=>{0==t.alia.length?t.isAlia=!1:t.isAlia=!0,t.art="",t.artsss=[],t.ar.length>1?t.ar.map(s=>{t.art+=s.name+"/",t.artsss.push(s)}):(t.artsss.push(t.ar[0]),t.art=t.ar[0].name),t.art=t.art.slice(0,-1),t.imgUrl=t.al.picUrl,a.push(t.id)}),this.hotSongs=s,this.getAllSongUrl(a,"songUrlData")}).catch(t=>{this.$toast.clear(),console.log("err ==> ",t)})},togglePlayPage(t){this.$store.commit("togglePlayPage",t)}}},n=o,r=(a("df42"),a("2877")),c=Object(r["a"])(n,i,l,!1,null,"88a35218",null);s["default"]=c.exports}}]);
//# sourceMappingURL=chunk-698b8f0c.89bfb38b.js.map